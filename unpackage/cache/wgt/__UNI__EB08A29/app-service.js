if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=["{","}"];const n=/^(?:\d)+/,o=/^(?:\w)+/;const s="zh-Hans",a="zh-Hant",l="en",i=Object.prototype.hasOwnProperty,r=(e,t)=>i.call(e,t),c=new class{constructor(){this._caches=Object.create(null)}interpolate(e,s,a=t){if(!s)return[e];let l=this._caches[e];return l||(l=function(e,[t,s]){const a=[];let l=0,i="";for(;l<e.length;){let r=e[l++];if(r===t){i&&a.push({type:"text",value:i}),i="";let t="";for(r=e[l++];void 0!==r&&r!==s;)t+=r,r=e[l++];const c=r===s,u=n.test(t)?"list":c&&o.test(t)?"named":"unknown";a.push({value:t,type:u})}else i+=r}return i&&a.push({type:"text",value:i}),a}(e,a),this._caches[e]=l),function(e,t){const n=[];let o=0;const s=Array.isArray(t)?"list":(a=t,null!==a&&"object"==typeof a?"named":"unknown");var a;if("unknown"===s)return n;for(;o<e.length;){const a=e[o];switch(a.type){case"text":n.push(a.value);break;case"list":n.push(t[parseInt(a.value,10)]);break;case"named":"named"===s&&n.push(t[a.value])}o++}return n}(l,s)}};function u(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return s;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?s:e.indexOf("-hant")>-1?a:(n=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==n.indexOf(e)))?a:s);var n;let o=[l,"fr","es"];t&&Object.keys(t).length>0&&(o=Object.keys(t));const i=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,o);return i||void 0}class d{constructor({locale:e,fallbackLocale:t,messages:n,watcher:o,formater:s}){this.locale=l,this.fallbackLocale=l,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=s||c,this.messages=n||{},this.setLocale(e||l),o&&this.watchLocale(o)}setLocale(e){const t=this.locale;this.locale=u(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,n=!0){const o=this.messages[e];o?n?Object.assign(o,t):Object.keys(t).forEach((e=>{r(o,e)||(o[e]=t[e])})):this.messages[e]=t}f(e,t,n){return this.formater.interpolate(e,t,n).join("")}t(e,t,n){let o=this.message;return"string"==typeof t?(t=u(t,this.messages))&&(o=this.messages[t]):n=t,r(o,e)?this.formater.interpolate(o[e],n).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}const h={en:{"uni-countdown.day":"day","uni-countdown.h":"h","uni-countdown.m":"m","uni-countdown.s":"s"},"zh-Hans":{"uni-countdown.day":"天","uni-countdown.h":"时","uni-countdown.m":"分","uni-countdown.s":"秒"},"zh-Hant":{"uni-countdown.day":"天","uni-countdown.h":"時","uni-countdown.m":"分","uni-countdown.s":"秒"}},p=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},{t:m}=function(e,t={},n,o){if("string"!=typeof e){const n=[t,e];e=n[0],t=n[1]}"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():l),"string"!=typeof n&&(n="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||l);const s=new d({locale:e,fallbackLocale:n,messages:t,watcher:o});let a=(e,t)=>{if("function"!=typeof getApp)a=function(e,t){return s.t(e,t)};else{let e=!1;a=function(t,n){const o=getApp().$vm;return o&&(o.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(o,s))),s.t(t,n)}}return a(e,t)};return{i18n:s,f:(e,t,n)=>s.f(e,t,n),t:(e,t)=>a(e,t),add:(e,t,n=!0)=>s.add(e,t,n),watch:e=>s.watchLocale(e),getLocale:()=>s.getLocale(),setLocale:e=>s.setLocale(e)}}(h);const f=p({name:"UniCountdown",emits:["timeup"],props:{showDay:{type:Boolean,default:!0},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showColon:{type:Boolean,default:!0},start:{type:Boolean,default:!0},backgroundColor:{type:String,default:""},color:{type:String,default:"#333"},fontSize:{type:Number,default:14},splitorColor:{type:String,default:"#333"},day:{type:Number,default:0},hour:{type:Number,default:0},minute:{type:Number,default:0},second:{type:Number,default:0},timestamp:{type:Number,default:0},filterShow:{type:Object,default:{}}},data:()=>({timer:null,syncFlag:!1,d:"00",h:"00",i:"00",s:"00",leftTime:0,seconds:0}),computed:{dayText:()=>m("uni-countdown.day"),hourText:e=>m("uni-countdown.h"),minuteText:e=>m("uni-countdown.m"),secondText:e=>m("uni-countdown.s"),timeStyle(){const{color:e,backgroundColor:t,fontSize:n}=this;return{color:e,backgroundColor:t,fontSize:`${n}px`,width:22*n/14+"px",lineHeight:20*n/14+"px",borderRadius:3*n/14+"px"}},splitorStyle(){const{splitorColor:e,fontSize:t,backgroundColor:n}=this;return{color:e,fontSize:12*t/14+"px",margin:n?4*t/14+"px":""}}},watch:{day(e){this.changeFlag()},hour(e){this.changeFlag()},minute(e){this.changeFlag()},second(e){this.changeFlag()},start:{immediate:!0,handler(e,t){if(e)this.startData();else{if(!t)return;clearInterval(this.timer)}}}},created:function(e){this.seconds=this.toSeconds(this.timestamp,this.day,this.hour,this.minute,this.second),this.countDown()},unmounted(){clearInterval(this.timer)},methods:{toSeconds:(e,t,n,o,s)=>e?e-parseInt((new Date).getTime()/1e3,10):60*t*60*24+60*n*60+60*o+s,timeUp(){clearInterval(this.timer),this.$emit("timeup")},countDown(){let e=this.seconds,[t,n,o,s]=[0,0,0,0];e>0?(t=Math.floor(e/86400),n=Math.floor(e/3600)-24*t,o=Math.floor(e/60)-24*t*60-60*n,s=Math.floor(e)-24*t*60*60-60*n*60-60*o):this.timeUp(),this.d=String(t).padStart(this.validFilterShow(this.filterShow.d),"0"),this.h=String(n).padStart(this.validFilterShow(this.filterShow.h),"0"),this.i=String(o).padStart(this.validFilterShow(this.filterShow.m),"0"),this.s=String(s).padStart(this.validFilterShow(this.filterShow.s),"0")},validFilterShow:e=>e&&e>0?e:2,startData(){if(this.seconds=this.toSeconds(this.timestamp,this.day,this.hour,this.minute,this.second),this.seconds<=0)return this.seconds=this.toSeconds(0,0,0,0,0),void this.countDown();clearInterval(this.timer),this.countDown(),this.timer=setInterval((()=>{this.seconds--,this.seconds<0?this.timeUp():this.countDown()}),1e3)},update(){this.startData()},changeFlag(){this.syncFlag||(this.seconds=this.toSeconds(this.timestamp,this.day,this.hour,this.minute,this.second),this.startData(),this.syncFlag=!0)}}},[["render",function(t,n,o,s,a,l){return e.openBlock(),e.createElementBlock("view",{class:"uni-countdown"},[o.showDay?(e.openBlock(),e.createElementBlock("text",{key:0,style:e.normalizeStyle([l.timeStyle]),class:"uni-countdown__number"},e.toDisplayString(a.d),5)):e.createCommentVNode("",!0),o.showDay?(e.openBlock(),e.createElementBlock("text",{key:1,style:e.normalizeStyle([l.splitorStyle]),class:"uni-countdown__splitor"},e.toDisplayString(l.dayText),5)):e.createCommentVNode("",!0),o.showHour?(e.openBlock(),e.createElementBlock("text",{key:2,style:e.normalizeStyle([l.timeStyle]),class:"uni-countdown__number"},e.toDisplayString(a.h),5)):e.createCommentVNode("",!0),o.showHour?(e.openBlock(),e.createElementBlock("text",{key:3,style:e.normalizeStyle([l.splitorStyle]),class:"uni-countdown__splitor"},e.toDisplayString(o.showColon?":":l.hourText),5)):e.createCommentVNode("",!0),o.showMinute?(e.openBlock(),e.createElementBlock("text",{key:4,style:e.normalizeStyle([l.timeStyle]),class:"uni-countdown__number"},e.toDisplayString(a.i),5)):e.createCommentVNode("",!0),o.showMinute?(e.openBlock(),e.createElementBlock("text",{key:5,style:e.normalizeStyle([l.splitorStyle]),class:"uni-countdown__splitor"},e.toDisplayString(o.showColon?":":l.minuteText),5)):e.createCommentVNode("",!0),e.createElementVNode("text",{style:e.normalizeStyle([l.timeStyle]),class:"uni-countdown__number"},e.toDisplayString(a.s),5),o.showColon?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("text",{key:6,style:e.normalizeStyle([l.splitorStyle]),class:"uni-countdown__splitor"},e.toDisplayString(l.secondText),5))])}],["__scopeId","data-v-83648cf6"]]);function y(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}const g={__name:"advertisement",setup(t){function n(){uni.reLaunch({url:"/pages/login/login"})}return(t,o)=>{const s=(a=e.resolveDynamicComponent("uni-countdown"),l=f,"string"==typeof a?l:a);var a,l;return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{onClick:n,class:"skip"},[e.createElementVNode("text",{style:{"margin-left":"5px"}},"跳过"),e.createVNode(s,{onTimeup:n,color:"#747474",second:5,"show-day":!1,"show-hour":!1,"show-minute":!1})]),e.createElementVNode("view",{class:"pageData"},[e.createElementVNode("image",{class:"headerImage",src:"/static/advertisement/headerIcon.jpg"}),e.createElementVNode("text",{class:"title"},"同游世界，共享风情"),e.createElementVNode("br"),e.createElementVNode("text",{class:"field"},"一起去最美的远方"),e.createElementVNode("button",{class:"gotoButton",disabled:"true",onClick:n},"开始体验")])])}}},w={__name:"login",setup(t){let n=e.ref("super"),o=e.ref("123456");function s(){showPassword.value=!showPassword.value}function a(){uni.navigateTo({url:"/pages/register/register"})}function l(){uni.request({url:"http://59.46.190.164:7080/api/login",method:"POST",data:{username:n.value,password:o.value}}).then((e=>{y("log","at pages/login/login.vue:71",e.data.code),200==e.data.code&&(uni.setStorage({key:"token",data:e.data.token}),uni.redirectTo({url:"/pages/index/index"}))}))}return e.ref(!1),(t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"page"},[e.createElementVNode("view",{class:"pageContent"},[e.createElementVNode("text",{class:"title"},"欢迎登录智慧景区系统"),e.createElementVNode("text",{class:"tips"},"请登录:"),e.createElementVNode("form",null,[e.createElementVNode("input",{class:"userNameInput",value:e.unref(n),placeholder:"请输入用户名"},null,8,["value"]),e.createElementVNode("view",{class:"passswordInputview"},[e.createElementVNode("input",{class:"passswordInput",placeholder:"请输入密码",value:e.unref(o),password:t.showPassword},null,8,["value","password"]),e.createElementVNode("text",{class:e.normalizeClass(["uni-icon",[t.showPassword?"":"uni-eye-active"]]),onClick:s},"",2)]),e.createElementVNode("checkbox",{value:"rememberPassword",class:"rememberPassword"}),e.createTextVNode("记住密码 "),e.createElementVNode("button",{class:"login",onClick:l},"登录"),e.createElementVNode("text",{class:"registrationPrompt"},[e.createTextVNode(" 没有账号？去"),e.createElementVNode("text",{class:"regins",onClick:a},"注册")])])])]),e.createElementVNode("view",{class:"BackVideio"},[e.createElementVNode("video",{muted:"true",style:{position:"relative","z-index":"1",width:"100%"},objectFit:"fill",loop:"true",controls:"false",class:"backVideio",src:"/static/login/video.mp4",autoplay:""})])]))}};const v=p({},[["render",function(t,n){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("text",null,"my is index")])}]]),k={__name:"register",setup(t){let n=e.ref(!1);return e.ref(!1),(t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"contentView"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"title"},"欢迎注册智慧景区"),e.createElementVNode("text",{class:"tips"}," 请注册: "),e.createElementVNode("input",{class:"username",focus:"",placeholder:"请输入用户名"}),e.createElementVNode("view",{class:"uni-input-wrapper"},[e.createElementVNode("input",{class:"userpassword",placeholder:"请输入密码",password:e.unref(n)},null,8,["password"]),e.createElementVNode("text",{class:e.normalizeClass(["uni-icon",[e.unref(n)?"":"uni-eye-active"]]),onClick:o[0]||(o[0]=(...e)=>t.changePassword&&t.changePassword(...e))},"",2)]),e.createElementVNode("input",{class:"nicename",focus:"",placeholder:"请输入昵称"}),e.createElementVNode("button",{class:"login"},"注册"),e.createElementVNode("checkbox",{value:"agreeOrNot"}),e.createTextVNode("我已同意 ")])]))}};__definePage("pages/advertisement/advertisement",g),__definePage("pages/login/login",w),__definePage("pages/index/index",v),__definePage("pages/register/register",k);const S={onLaunch:function(){y("log","at App.vue:4","App Launch")},onShow:function(){y("log","at App.vue:7","App Show")},onHide:function(){y("log","at App.vue:10","App Hide")}};const{app:x,Vuex:_,Pinia:N}={app:e.createVueApp(S)};uni.Vuex=_,uni.Pinia=N,x.provide("__globalStyles",__uniConfig.styles),x._component.mpType="app",x._component.render=()=>{},x.mount("#app")}(Vue);
